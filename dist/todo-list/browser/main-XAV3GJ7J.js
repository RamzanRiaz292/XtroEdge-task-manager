import{a as U}from"./chunk-CPID53KK.js";import"./chunk-H47AXV6C.js";import"./chunk-7VNJ2DCA.js";import{a as x,b,c as l,e as k}from"./chunk-CFMN2QYF.js";import{Db as A,Ja as h,Na as v,P as p,T as c,Wb as y,_a as m,_b as I,bb as n,eb as C,ha as u,ia as f,va as g,za as d}from"./chunk-BZLZP6YE.js";var r=class t{constructor(e){this.router=e}canActivate(){return localStorage.getItem("token")?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(o){return new(o||t)(c(l))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})},a=class t{constructor(e){this.router=e}canActivate(e){let o=localStorage.getItem("token"),s=JSON.parse(localStorage.getItem("user")||"{}");return o&&s.role===e.data.role?!0:(this.router.navigate(["/dashboard"]),!1)}static \u0275fac=function(o){return new(o||t)(c(l))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};var R=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-I2YV3B26.js").then(t=>t.LoginForm)},{path:"register",loadComponent:()=>import("./chunk-AQMF4VSO.js").then(t=>t.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-2XBMVF6J.js").then(t=>t.DashboardComponent),canActivate:[r]},{path:"tasks",loadComponent:()=>import("./chunk-SXUHXQ4E.js").then(t=>t.TaskManagerComponent),canActivate:[r]},{path:"calendar",loadComponent:()=>import("./chunk-Y7SZ33JG.js").then(t=>t.CalendarComponent),canActivate:[r]},{path:"employee-analytics",loadComponent:()=>import("./chunk-J53WZJYF.js").then(t=>t.EmployeeAnalyticsComponent),canActivate:[a],data:{role:"manager"}},{path:"manager-tasks",loadComponent:()=>import("./chunk-234QZLOL.js").then(t=>t.ManagerTasksComponent),canActivate:[a],data:{role:"manager"}},{path:"progress",loadComponent:()=>import("./chunk-OSL2IG3S.js").then(t=>t.Progress),canActivate:[a],data:{role:"manager"}},{path:"chat",loadComponent:()=>import("./chunk-R732DB5D.js").then(t=>t.Chat),canActivate:[r]}];var M={providers:[u(),A({eventCoalescing:!0}),k(R)]};function D(t,e){if(t&1&&n(0,"app-chat",2),t&2){let o=C();m("currentUser",o.currentUser)}}var i=class t{title=f("task-manager");currentUser=null;isManager=!1;constructor(){}ngOnInit(){this.loadUserData(),window.addEventListener("storage",e=>{e.key==="user"&&this.loadUserData()})}loadUserData(){let e=localStorage.getItem("user");e?(this.currentUser=JSON.parse(e),this.isManager=this.currentUser?.role==="manager"):(this.currentUser=null,this.isManager=!1)}onLogin(){this.loadUserData()}onLogout(){this.currentUser=null,this.isManager=!1}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[["rel","icon","type","image/x-icon","href",g`data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ””</text></svg>`],[3,"currentUser",4,"ngIf"],[3,"currentUser"]],template:function(o,s){o&1&&(n(0,"link",0),v(1,D,1,1,"app-chat",1),n(2,"router-outlet")),o&2&&(d(),m("ngIf",s.isManager))},dependencies:[b,U,I,y],encapsulation:2})};x(i,M).catch(t=>console.error(t));
