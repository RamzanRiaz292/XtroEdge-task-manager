import{a as z,b as I,c as T,d as W,e as A,f as N,i as V,j as Y,k as F,n as U,o as q,p as B}from"./chunk-7VNJ2DCA.js";import{c as E,d as R,f as L}from"./chunk-CFMN2QYF.js";import{$a as e,Da as _,Ja as O,Na as M,Wb as v,Z as h,_ as P,_a as p,_b as k,ab as n,bb as b,c as x,cb as w,db as C,eb as f,ec as S,fc as D,mb as r,nb as u,qb as c,rb as d,sb as m,vb as y,za as i}from"./chunk-BZLZP6YE.js";var H=()=>["/login"];function G(g,l){if(g&1&&(e(0,"div",25)(1,"span",26),r(2,"\u2705"),n(),e(3,"span"),r(4),n()()),g&2){let a=f();i(4),u(a.successMessage)}}function J(g,l){if(g&1){let a=w();e(0,"div",27)(1,"span",26),r(2,"\u26A0\uFE0F"),n(),e(3,"span"),r(4),n(),e(5,"button",28),C("click",function(){h(a);let s=f();return P(s.errorMessage="")}),r(6,"\xD7"),n()()}if(g&2){let a=f();i(4),u(a.errorMessage)}}function K(g,l){g&1&&b(0,"span",29)}var j=class g{constructor(l,a){this.http=l;this.router=a}registerData={name:"",email:"",password:"",confirmPassword:"",role:"employee"};isLoading=!1;errorMessage="";successMessage="";API_URL=this.getApiUrl();getApiUrl(){let l=window.location.href;return l.includes("localhost")||l.includes("127.0.0.1")?"http://localhost:3000/api":"https://xtro-edge-task-manager-backend.vercel.app/api"}onRegister(){if(!this.registerData.name||!this.registerData.email||!this.registerData.password){this.errorMessage="All fields are required";return}if(this.registerData.password!==this.registerData.confirmPassword){this.errorMessage="Passwords do not match";return}if(this.registerData.password.length<6){this.errorMessage="Password must be at least 6 characters long";return}this.isLoading=!0,this.errorMessage="",this.successMessage="";let t=this.registerData,{confirmPassword:l}=t,a=x(t,["confirmPassword"]);this.http.post(`${this.API_URL}/employees`,a).subscribe({next:s=>{this.isLoading=!1,this.successMessage="Registration successful! Redirecting to login...",setTimeout(()=>{this.router.navigate(["/login"])},2e3)},error:s=>{this.isLoading=!1,this.errorMessage=s.error?.error||"Registration failed. Please try again.",console.error("Registration error:",s)}})}clearMessages(){this.errorMessage="",this.successMessage=""}static \u0275fac=function(a){return new(a||g)(_(S),_(E))};static \u0275cmp=O({type:g,selectors:[["app-register"]],decls:48,vars:12,consts:[[1,"register-page"],[1,"register-card"],[1,"register-header"],[1,"logo"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[1,"register-form",3,"ngSubmit","input"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","placeholder","Enter your full name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","role"],["id","role","name","role",1,"form-control",3,"ngModelChange","ngModel"],["value","employee"],["value","manager"],[1,"help-text"],["for","password"],["type","password","id","password","name","password","placeholder","Min. 6 characters","minlength","6","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn-register",3,"disabled"],["class","spinner",4,"ngIf"],[1,"register-footer"],[3,"routerLink"],[1,"alert","alert-success"],[1,"alert-icon"],[1,"alert","alert-error"],[1,"close-btn",3,"click"],[1,"spinner"]],template:function(a,t){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),r(5,"\u{1F464}"),n()(),e(6,"h1"),r(7,"Create Account"),n(),e(8,"p"),r(9,"Join Task Manager to manage your work efficiently"),n()(),M(10,G,5,1,"div",4)(11,J,7,1,"div",5),e(12,"form",6),C("ngSubmit",function(){return t.onRegister()})("input",function(){return t.clearMessages()}),e(13,"div",7)(14,"label",8),r(15,"Full Name *"),n(),e(16,"input",9),m("ngModelChange",function(o){return d(t.registerData.name,o)||(t.registerData.name=o),o}),n()(),e(17,"div",7)(18,"label",10),r(19,"Email Address *"),n(),e(20,"input",11),m("ngModelChange",function(o){return d(t.registerData.email,o)||(t.registerData.email=o),o}),n()(),e(21,"div",7)(22,"label",12),r(23,"Account Type *"),n(),e(24,"select",13),m("ngModelChange",function(o){return d(t.registerData.role,o)||(t.registerData.role=o),o}),e(25,"option",14),r(26,"Employee"),n(),e(27,"option",15),r(28,"Manager"),n()(),e(29,"small",16),r(30,' Choose "Manager" if you need to assign tasks to employees '),n()(),e(31,"div",7)(32,"label",17),r(33,"Password *"),n(),e(34,"input",18),m("ngModelChange",function(o){return d(t.registerData.password,o)||(t.registerData.password=o),o}),n()(),e(35,"div",7)(36,"label",19),r(37,"Confirm Password *"),n(),e(38,"input",20),m("ngModelChange",function(o){return d(t.registerData.confirmPassword,o)||(t.registerData.confirmPassword=o),o}),n()(),e(39,"button",21),M(40,K,1,0,"span",22),e(41,"span"),r(42),n()()(),e(43,"div",23)(44,"p"),r(45,"Already have an account? "),e(46,"a",24),r(47,"Sign In"),n()()()()()),a&2&&(i(10),p("ngIf",t.successMessage),i(),p("ngIf",t.errorMessage),i(5),c("ngModel",t.registerData.name),i(4),c("ngModel",t.registerData.email),i(4),c("ngModel",t.registerData.role),i(10),c("ngModel",t.registerData.password),i(4),c("ngModel",t.registerData.confirmPassword),i(),p("disabled",t.isLoading),i(),p("ngIf",t.isLoading),i(2),u(t.isLoading?"Creating Account...":"Create Account"),i(4),p("routerLink",y(11,H)))},dependencies:[k,v,B,N,Y,F,z,V,I,T,U,q,A,W,D,L,R],styles:[`.register-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;position:relative;overflow:hidden}.register-page[_ngcontent-%COMP%]:before, .register-page[_ngcontent-%COMP%]:after{content:"";position:absolute;border-radius:50%;background:#ffffff1a;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.register-page[_ngcontent-%COMP%]:before{width:500px;height:500px;top:-150px;left:-150px}.register-page[_ngcontent-%COMP%]:after{width:350px;height:350px;bottom:-100px;right:-100px;animation-delay:3s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(5deg)}}.register-card[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;box-shadow:0 25px 50px #00000026;width:100%;max-width:500px;padding:45px 40px;position:relative;z-index:1;animation:_ngcontent-%COMP%_slideUp .5s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:35px}.register-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70px;height:70px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;box-shadow:0 10px 30px #667eea66}.register-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1a202c;margin:0 0 10px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.register-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:15px;margin:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:22px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#2d3748;margin-bottom:8px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:14px 18px;font-size:15px;border:2px solid #e2e8f0;border-radius:12px;background:#f7fafc;color:#1a202c;transition:all .3s ease}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea26}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23718096' d='M6 8L1 3h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 18px center;padding-right:45px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:13px;color:#718096;line-height:1.5}.register-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}@media (max-width: 480px){.register-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.btn-register[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:16px;font-weight:600;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 25px #667eea59;display:flex;align-items:center;justify-content:center;gap:10px;margin-top:10px}.btn-register[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 12px 35px #667eea73}.btn-register[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-register[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.btn-register[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.alert[_ngcontent-%COMP%]{padding:14px 18px;border-radius:12px;margin-bottom:24px;display:flex;align-items:center;gap:12px;font-size:14px}.alert.alert-success[_ngcontent-%COMP%]{background:#48bb781a;color:#276749;border:1px solid rgba(72,187,120,.3);animation:_ngcontent-%COMP%_slideDown .3s ease}.alert.alert-error[_ngcontent-%COMP%]{background:#f565651a;color:#c53030;border:1px solid rgba(245,101,101,.3);animation:_ngcontent-%COMP%_shake .5s ease}.alert[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:20px}.alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;font-size:20px;cursor:pointer;color:inherit;opacity:.7;transition:opacity .2s}.alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.register-footer[_ngcontent-%COMP%]{text-align:center;margin-top:28px;padding-top:24px;border-top:1px solid #e2e8f0}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:14px;margin:0}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;font-weight:600;text-decoration:none}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.features-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:24px;border-top:1px solid #e2e8f0}.features-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#2d3748;font-size:16px;font-weight:600}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}@media (max-width: 400px){.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px;background:#667eea0d;border-radius:10px;transition:all .2s ease}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:translate(4px)}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:20px}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#4a5568;font-weight:500}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:35px 24px;margin:10px}.register-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:60px;height:60px}.register-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:18px}}`]})};export{j as RegisterComponent};
